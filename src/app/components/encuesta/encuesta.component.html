<div class="container py-5">
    <div class="card bg-dark text-white" style="border-radius: 1rem; background: rgba(0, 0, 0, 0.7);">
        <div class="card-body text-center">
        
            <form  [formGroup]="form">
                <h2 class="mb-3 fw-normal text-center">Encuesta sala de juegos</h2>               
                <div class="div-form">

                    <div class="row">
                        <div class="col">
                            <div class="row my-3">
                                <div class="row">
                                    <div class="col-auto py-1">
                                        <label name="nombre" for="fnombre"><fa-icon [icon]="faNombre" style="padding: 5px;" class="mx-1"></fa-icon>Nombre:</label>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col">
                                        <input name="nombre" maxlength="30" minlength="3" formControlName="nombre" type="text" class="form-control" id="fnombre" placeholder="Leandro">
                                    </div>
                                </div>
                            </div>
                            @if(form.get('nombre'); as aux){
                                @if(aux.invalid && (aux.dirty || aux.touched) && ( aux.hasError("required") || aux.hasError("nullValidator") || aux.hasError("minLength") || aux.hasError("pattern") || aux.hasError("maxLength"))){
                                    <div class="alert alert-danger" role="alert">
                                        {{aux.hasError("required") ? "Es necesario llenar el nombre " : ""}}
                                        {{aux.hasError("pattern") ? "El nombre no puede tener numeros ":" "}}
                                        {{aux.hasError("minLength") ? "El minimo de caracteres es 3 " : ""}}
                                        {{aux.hasError("maxLength")? "El maximo de caracteres es 30 ":""}}
                                    </div>
                                }
                            }

                        </div>
                        <div class="col">
                            <div class="row my-3">
                                <div class="row">
                                    <div class="col-auto py-1">
                                        <label name="apellido" for="fapellido"><fa-icon [icon]="faNombre" style="padding: 5px;" class="mx-1"></fa-icon> Apellido:</label>
                                    </div>
                                </div>
        
                                <div class="row">
                                    <div class="col">
                                        <input name="apellido" maxlength="15" minlength="3" type="text" formControlName="apellido" class="form-control" id="fapellido" placeholder="Perez">
                                    </div>
                                </div>
                            </div>
                            @if(form.get('apellido'); as aux){
                                @if(aux.invalid && (aux.dirty || aux.touched) && ( aux.hasError("required") || aux.hasError("minlength"))){
                                    <div class="alert alert-danger" role="alert">
                                        {{aux.hasError("required") ? "Es necesario llenar el nombre " : ""}}
                                        {{aux.hasError("pattern") ? "El nombre no puede tener numeros ":" "}}
                                        {{aux.hasError("minLength") ? "El minimo de caracteres es 3 " : ""}}
                                        {{aux.hasError("maxLength")? "El maximo de caracteres es 15 ":""}}
                                    </div>
                                }
                            }
                        </div>
                    </div>
                    
                    <div class="row">
                        <div class="col">
                            <div class="row my-3">
                                <div class="row">
                                    <div class="col-auto py-2">
                                        <label name="edad" for="fedad"><fa-icon [icon]="faNombre" style="padding: 5px;" class="mx-1"></fa-icon> Edad:</label>
                                    </div>
                                </div>
        
                                <div class="row">
                                    <div class="col">
                                        <input name="edad" type="number" formControlName="edad" class="form-control" id="fedad">
                                    </div>
                                </div>
                            </div>
                            @if(form.get('edad'); as aux){
                                @if(aux.invalid && (aux.dirty || aux.touched) && ( aux.hasError("required") || aux.hasError("min") || aux.hasError("max"))){
                                    <div class="alert alert-danger" role="alert">
                                        {{ aux.hasError("min")?"La edad minima es 18":""}}
                                        {{ aux.hasError("max")?"La edad maxima es 99":""}}
                                    </div>
                                }
                            }
                        </div>
                        <div class="col">
                            
                            <div class="row my-3">
                                <div class="row">
                                    <div class="col-auto py-2">
                                        <label name="telefono" for="ftelefono"><fa-icon [icon]="faTelefono" style="padding: 5px;" class="mx-1"></fa-icon> Telefono:</label>
                                    </div>
                                </div>

                                <div class="row">
                                    <div class="col">
                                        <input name="telefono" type="text" formControlName="telefono" class="form-control" id="ftelefono">
                                    </div>
                                </div>
                            </div>
                            @if(form.get('telefono'); as aux){
                                @if(aux.invalid && (aux.dirty || aux.touched) && ( aux.hasError("required") || aux.hasError("minlength") || aux.hasError("maxlength") || aux.hasError("pattern"))){
                                        <div class="alert alert-danger" role="alert">
                                            {{aux.hasError("required") ?"El telefono es requerido":""}}
                                            {{aux.hasError("minlength") || aux.hasError("maxlength") ?", El numero necesita 10 digitos ":""}}
                                            {{aux.hasError("pattern")?", Solo pueden ser numeros":""}}
                                        </div>
                                }
                            }

                        </div>
                    </div>

                    <div class="row">
                        <h3><fa-icon [icon]="faJuego" style="padding: 5px;" class="mx-1"></fa-icon>¿Que juegos le parecio mas entretenido?</h3>
                        <div class="btn-group juegos my-3">
                            <div class="col-auto mx-4">
                                <input (change)="juegosFavoritos($event)"  type="checkbox" class="btn-check" value="ahorcado" id="ahorcado" name="ahorcado" autocomplete="off">
                                <label class="btn btn-outline-light btn-lg" for="ahorcado">Ahorcado</label>
                            </div>
                            <div class="col-auto mx-4">
                                <input (change)="juegosFavoritos($event)"  type="checkbox" class="btn-check" value="mayor-menor" id="mayor-menor" name="mayor-menor" autocomplete="off">
                                <label class="btn btn-outline-light btn-lg" for="mayor-menor">Mayor o Menor</label>
                            </div>
                            <div class="col-auto mx-4">
                                <input (change)="juegosFavoritos($event)"  type="checkbox" class="btn-check" value="preguntados" id="preguntados" name="preguntados" autocomplete="off">
                                <label class="btn btn-outline-light btn-lg" for="preguntados">Preguntados</label>
                            </div>
                            <div class="col-auto mx-4">
                                <input (change)="juegosFavoritos($event)"  type="checkbox" class="btn-check" value="blackjack" id="blackjack" name="blackjack" autocomplete="off">
                                <label class="btn btn-outline-light btn-lg" for="blackjack">Blackjack</label>
                            </div>
                        </div>
                    </div>
                    @if(esNecesarioJuegos){
                        <div class="alert alert-danger" role="alert">
                            Es necesario que al menos elija un juego
                        </div>
                    }

                    <div class="row my-2">
                        <h3><fa-icon [icon]="faComentario" style="padding: 5px;" class="mx-1"></fa-icon>Que te parece la pagina ¿Que juegos agregarias?</h3>
                        <div class="col my-2">
                            <textarea maxlength="100" formControlName="opinion" class="form-control" id="exampleFormControlTextarea1" rows="5"></textarea>
                        </div>
                    </div>
                    @if(form.get('opinion'); as aux){
                        @if(aux.invalid && (aux.dirty || aux.touched) && ( aux.hasError("required") || aux.hasError("minlength") || aux.hasError("maxlength") || aux.hasError("pattern"))){
                                <div class="alert alert-danger" role="alert">
                                    {{aux.hasError("required") ?"Su comentario es necesario":""}}
                                    {{aux.hasError("minLength") ? ", El minimo de caracteres es 10 " : ""}}
                                    {{aux.hasError("maxLength")? ", El maximo de caracteres es 200 ":""}}
                                </div>
                        }
                    }

                    <div class="row recomendar my-2">
                        <h3><fa-icon [icon]="faOpinion" style="padding: 5px;" class="mx-1"></fa-icon>¿Recomendarias esta pagina a otra persona?</h3>
                        <div class="col-auto my-2">
                            <input type="radio" formControlName="recomendar" class="btn-check" name="recomendar" value="SI" id="recomendar" autocomplete="off">
                            <label class="btn btn-outline-light btn-lg" for="recomendar">SI</label>
                        </div>
                        <div class="col-auto my-2">
                            <input type="radio" formControlName="recomendar" class="btn-check" name="recomendar" value="NO" id="recomendar2" autocomplete="off">
                            <label class="btn btn-outline-light btn-lg" for="recomendar2">NO</label>
                        </div>
                    </div>        

                </div>
            </form>
            <div class="row align-items-center justify-content-center d-flex">
                <div class="col-auto mx-4">             
                    <button class="btn btn-primary btn-lg w-100 py-2" (click)="this.enviarEncuesta()">Enviar Encuesta</button>         
                </div>  
            </div>

        
        </div>
    </div>
</div>
